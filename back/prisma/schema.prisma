generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = "mysql://root:root@localhost:3306/rfid?schema=public"
}


model User {
  id             String           @id @default(uuid()) @map("user_id")
  tag            String           @unique
  name           String
  cpf            String           @unique
  register_hours Register_hours[] 
  service_orders ServiceOrder[] 

  @@map("user")
}

model Register_hours {
  id_register String      @id @default(uuid()) @map("register_id")
  id_user     String
  id_order    String
  user        User        @relation(fields: [id_user], references: [id])
  order       ServiceOrder @relation(fields: [id_order], references: [id_order])
  input       DateTime ?
  exit        DateTime ?
  active      Boolean ?    @default(false) 
  created_at  DateTime     @default(now())
  updated_at  DateTime ?
  delete_at   DateTime ?

  @@map("Register_hours")
}

model ServiceOrder {
  id_order     String            @id @default(uuid()) @map("order_id")
  description  String
  created_at   DateTime          @default(now())
  updated_at   DateTime ?
  delete_at    DateTime ?
  register_hours Register_hours[] // Adicionando o campo correspondente
  users        User[]

  @@map("ServiceOrder")
}
